<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Test</title>
</head>
<body>
<ul></ul>

<div id="container">
</div>

<script src="jquery.min.js"></script>
<script src="d3.min.js"></script>
<script>
let fieldNames = "number squared cubed fib".split(" ");
let data = [
[1, 1, 1, 1],
[2, 4, 8,1],
[3, 9, 27, 2],
[4, 16, 64, 3],
[5, 25, 125, 5]
];

createTable ("#container", fieldNames, data);

function createTable (selector, fieldNames, data) {
  $("<table><thead><tr></tr></thead><tbody></tbody></table>").appendTo (selector);

let headerRow = d3.select(`${selector} table thead tr`)
.selectAll ("th").data (fieldNames)
.enter().append ("th")
.text (d => d);

let bodyRows = d3.select(`${selector} tbody`)
.selectAll ("tr").data(data)
.enter().append ("tr");

let updateColumns = bodyRows.selectAll ("td")
.data (d => d)
.enter().append ("td")
.text (d => d);
} // createTable


makeList(fieldNames);

function makeList(data) {
let listUpdate = d3.select("ul").selectAll("li").data(data, d => d);
listUpdate.exit().remove();
listUpdate = listUpdate.enter().append("li").html(d => `<button>${d}</button>`).merge(listUpdate);
} // makeList
</script>

</body>
</html>
