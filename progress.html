<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
<title>testing...</title>
</head>
<body>
<h1>Test</h1>

<div id="status" role="status">
<span class="message"></span>
<span class="progress"></span>
</div>

<script>
let loading = 0;
load();

function load () {
if (loading === 0) message ("loading...");
progress(loading);
const increment = 20;
const t = 1000;

setTimeout(function _report () {
loading += increment;
if (loading < 100) setTimeout(_report, 1500);

if (loading <= 100) progress(loading);
if (loading >= 100) message ("loading complete.");
}, 1500);

function message (text) {
document.querySelector ("#status .message").textContent = text;
} // message

function progress (n) {
document.querySelector ("#status .progress").textContent = `${n}%`;
} // progress
} // load

</script>

</body>
</html>
